{% extends 'base.html' %}
{% load static %}

{% block title %}Services - Zylo Coroe{% endblock %}

{% block extra_css %}
<style>
    /* Intersection Observer animations */
    .fade-in-section {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    
    .fade-in-section.is-visible {
        opacity: 1;
        transform: translateY(0);
    }
</style>
{% endblock %}

{% block content %}
<!-- Header/Navigation -->
<header class="fixed top-0 left-0 right-0 z-50 bg-oxford/95 backdrop-blur-md shadow-lg border-b border-platinum/10">
    <nav class="container mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
            <a href="/" class="flex items-center gap-3 group">
                <div class="bg-platinum p-2 rounded-lg group-hover:scale-110 transition-transform">
                    <i data-lucide="cpu" class="w-6 h-6 text-oxford"></i>
                </div>
                <span class="text-2xl font-bold tracking-tighter text-platinum">
                    Zylo<span class="text-platinum/60">Coroe</span>
                </span>
            </a>
            <div class="hidden md:flex items-center gap-8">
                <a href="#services" class="text-sm font-medium tracking-wide text-platinum/70 hover:text-platinum transition-colors">Services</a>
                <a href="#features" class="text-sm font-medium tracking-wide text-platinum/70 hover:text-platinum transition-colors">Features</a>
                <a href="#inquiry" class="text-sm font-medium tracking-wide text-platinum/70 hover:text-platinum transition-colors">Get Quote</a>
                <a href="#testimonials" class="text-sm font-medium tracking-wide text-platinum/70 hover:text-platinum transition-colors">Reviews</a>
            </div>
        </div>
    </nav>
</header>

<!-- Hero Section -->
<section class="relative min-h-screen flex items-center justify-center overflow-hidden bg-oxford pt-20">
    <!-- Abstract Background Elements -->
    <div class="absolute inset-0 w-full h-full">
        <div class="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-platinum/5 rounded-full blur-[100px] animate-pulse"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] bg-platinum/10 rounded-full blur-[120px] animate-pulse" style="animation-delay: 1s;"></div>
    </div>

    <!-- Grid Overlay -->
    <div class="absolute inset-0 opacity-10 bg-[linear-gradient(to_right,#e5e5e5_1px,transparent_1px),linear-gradient(to_bottom,#e5e5e5_1px,transparent_1px)] bg-[size:4rem_4rem]"></div>
    
    <div class="container mx-auto px-6 relative z-10 text-center fade-in-section">
        <span class="inline-block py-1 px-3 rounded-full bg-platinum/10 border border-platinum/20 text-platinum text-xs font-bold tracking-widest mb-6">
            OUR SERVICES
        </span>
        <h1 class="text-5xl md:text-7xl lg:text-8xl font-extrabold text-platinum tracking-tight mb-6 leading-tight">
            Premium Digital <br />
            <span class="text-platinum/70 drop-shadow-lg">Solutions</span>
        </h1>
        <p class="text-lg md:text-xl text-platinum/60 max-w-2xl mx-auto mb-10 leading-relaxed">
            Transform your business with cutting-edge software solutions. From web development to AI-powered applications, we deliver excellence.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a 
                href="#inquiry"
                class="px-8 py-4 bg-platinum text-oxford rounded-full font-semibold flex items-center gap-2 shadow-lg shadow-platinum/10 hover:bg-platinum/90 transition-all hover:scale-105"
            >
                Request a Quote <i data-lucide="arrow-right" class="w-5 h-5"></i>
            </a>
            <a 
                href="#services"
                class="px-8 py-4 bg-transparent border border-platinum/30 text-platinum rounded-full font-semibold hover:bg-platinum/10 transition-all hover:scale-105"
            >
                Explore Services
            </a>
        </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce">
        <div class="w-6 h-10 border-2 border-platinum/30 rounded-full flex justify-center pt-2">
            <div class="w-1 h-2 bg-platinum rounded-full"></div>
        </div>
    </div>
</section>

<!-- Services List Section -->
<section id="services" class="py-24 bg-oxford text-white relative overflow-hidden">
    <!-- Background pattern -->
    <div class="absolute inset-0 opacity-5 pointer-events-none" style="backgroundImage: 'radial-gradient(#e5e5e5 1px, transparent 1px)', backgroundSize: '32px 32px'"></div>

    <div class="container mx-auto px-6 relative z-10">
        <div class="text-center max-w-3xl mx-auto mb-16 fade-in-section">
            <h2 class="text-platinum font-bold tracking-widest text-sm mb-2 uppercase">Our Expertise</h2>
            <h3 class="text-4xl md:text-5xl font-bold mb-4 text-platinum">Comprehensive Digital Services</h3>
            <p class="text-platinum/60 text-lg">We leverage the latest technologies to build software that empowers your business and engages your customers.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
            {% for service in services %}
            <div class="fade-in-section service-card group relative overflow-hidden rounded-xl bg-platinum/5 p-[1px]">
                <!-- Rotating Border Animation -->
                <div class="absolute inset-0 flex items-center justify-center">
                    <div class="w-[250%] h-[250%] bg-[conic-gradient(from_0deg,transparent_0_300deg,#e5e5e5_360deg)] animate-spin" style="animation-duration: 4s;"></div>
                </div>

                <!-- Card Content -->
                <div class="relative h-full bg-oxford rounded-xl p-6 flex flex-col transition-colors duration-300 border border-platinum/5 group-hover:border-platinum/0">
                    <!-- Icon Container -->
                    <div class="w-12 h-12 rounded-lg bg-platinum/10 border border-platinum/10 flex items-center justify-center mb-5 transition-all duration-500 ease-out group-hover:bg-platinum group-hover:scale-110 group-hover:-rotate-3 shadow-sm">
                        <i data-lucide="{{ service.icon }}" class="w-6 h-6 text-platinum transition-colors duration-300 group-hover:text-oxford"></i>
                    </div>
                    
                    <h4 class="text-lg font-bold mb-2 text-platinum transition-colors">{{ service.title }}</h4>
                    <p class="text-platinum/60 text-sm leading-relaxed mb-4">{{ service.short_description }}</p>
                    <div class="mt-auto pt-4 border-t border-platinum/10">
                        <p class="text-platinum font-semibold text-sm">Starting from {{ service.price_range }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Features & Benefits Section -->
<section id="features" class="py-24 bg-platinum">
    <div class="container mx-auto px-6">
        <div class="text-center max-w-3xl mx-auto mb-16 fade-in-section">
            <h2 class="text-oxford font-bold tracking-widest text-sm mb-2 uppercase">Why Choose Us</h2>
            <h3 class="text-4xl font-bold text-oxford mb-4">Features & Benefits</h3>
            <p class="text-oxford/60 text-lg">Discover what makes our services stand out</p>
        </div>

        <div class="space-y-12">
            {% for item in services_with_features %}
            <div class="fade-in-section">
                <div class="bg-oxford rounded-2xl p-8 md:p-12 shadow-xl">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 rounded-lg bg-platinum/10 border border-platinum/20 flex items-center justify-center">
                            <i data-lucide="{{ item.service.icon }}" class="w-6 h-6 text-platinum"></i>
                        </div>
                        <h3 class="text-2xl md:text-3xl font-bold text-platinum">{{ item.service.title }}</h3>
                    </div>
                    
                    {% if item.features %}
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8">
                        {% for feature in item.features %}
                        <div class="bg-platinum/5 rounded-xl p-6 border border-platinum/10 hover:border-platinum/30 transition-all hover:scale-105">
                            <h4 class="text-platinum font-bold mb-2">{{ feature.title }}</h4>
                            <p class="text-platinum/70 text-sm">{{ feature.description }}</p>
                        </div>
                        {% endfor %}
                    </div>
                    {% else %}
                    <p class="text-platinum/70 text-lg">{{ item.service.description }}</p>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Dynamic Inquiry Form Section -->
<section id="inquiry" class="py-24 bg-oxford relative overflow-hidden">
    <div class="absolute -top-24 -right-24 w-96 h-96 bg-platinum/5 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-24 -left-24 w-96 h-96 bg-platinum/5 rounded-full blur-3xl"></div>
    
    <div class="container mx-auto px-6 relative z-10">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-12 fade-in-section">
                <h2 class="text-platinum font-bold tracking-widest text-sm mb-2 uppercase">Get Started</h2>
                <h3 class="text-4xl md:text-5xl font-bold mb-4 text-platinum">Request a Quote</h3>
                <p class="text-platinum/60 text-lg">Fill out the form below and we'll get back to you within 24 hours</p>
            </div>

            <div class="bg-oxford/50 backdrop-blur-sm p-8 md:p-10 rounded-2xl border border-platinum/10 shadow-2xl fade-in-section">
                {% if messages %}
                <div class="mb-6">
                    {% for message in messages %}
                    <div class="p-4 rounded-lg mb-4 {% if message.tags == 'success' %}bg-green-500/20 border border-green-500/30 text-green-300{% else %}bg-red-500/20 border border-red-500/30 text-red-300{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                <form method="POST" action="{% url 'submit_inquiry' %}" id="inquiry-form" class="space-y-6">
                    {% csrf_token %}
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-platinum/70 text-sm font-medium mb-2">Full Name *</label>
                            {{ form.name }}
                            {% if form.name.errors %}
                            <p class="text-red-400 text-xs mt-1">{{ form.name.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-platinum/70 text-sm font-medium mb-2">Email Address *</label>
                            {{ form.email }}
                            {% if form.email.errors %}
                            <p class="text-red-400 text-xs mt-1">{{ form.email.errors.0 }}</p>
                            {% endif %}
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-platinum/70 text-sm font-medium mb-2">Phone Number</label>
                            {{ form.phone }}
                            {% if form.phone.errors %}
                            <p class="text-red-400 text-xs mt-1">{{ form.phone.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-platinum/70 text-sm font-medium mb-2">Select Service *</label>
                            {{ form.service }}
                            {% if form.service.errors %}
                            <p class="text-red-400 text-xs mt-1">{{ form.service.errors.0 }}</p>
                            {% endif %}
                            <div id="price-display" class="mt-2 text-platinum/60 text-sm"></div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-platinum/70 text-sm font-medium mb-2">Project Requirements / Notes</label>
                        {{ form.custom_requirements }}
                        {% if form.custom_requirements.errors %}
                        <p class="text-red-400 text-xs mt-1">{{ form.custom_requirements.errors.0 }}</p>
                        {% endif %}
                    </div>

                    <button 
                        type="submit"
                        class="w-full px-8 py-4 bg-platinum text-oxford rounded-full font-semibold flex items-center justify-center gap-2 shadow-lg shadow-platinum/10 hover:bg-platinum/90 transition-all hover:scale-105"
                    >
                        Submit Inquiry <i data-lucide="send" class="w-5 h-5"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
{% if testimonials %}
<section id="testimonials" class="py-24 bg-platinum">
    <div class="container mx-auto px-6">
        <div class="text-center max-w-3xl mx-auto mb-16 fade-in-section">
            <h2 class="text-oxford font-bold tracking-widest text-sm mb-2 uppercase">Client Feedback</h2>
            <h3 class="text-4xl font-bold text-oxford mb-4">What Our Clients Say</h3>
            <p class="text-oxford/60 text-lg">Don't just take our word for it</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
            {% for testimonial in testimonials %}
            <div class="fade-in-section bg-oxford rounded-xl p-6 border border-platinum/10 hover:border-platinum/30 transition-all hover:scale-105">
                <div class="flex items-center gap-1 mb-4">
                    {% for i in "12345" %}
                    <i data-lucide="star" class="w-4 h-4 {% if forloop.counter <= testimonial.rating %}text-yellow-400 fill-yellow-400{% else %}text-platinum/20{% endif %}"></i>
                    {% endfor %}
                </div>
                <p class="text-platinum/80 mb-6 italic">"{{ testimonial.quote }}"</p>
                <div class="border-t border-platinum/10 pt-4">
                    <p class="text-platinum font-bold">{{ testimonial.name }}</p>
                    <p class="text-platinum/60 text-sm">{{ testimonial.role }}, {{ testimonial.company }}</p>
                    {% if testimonial.service %}
                    <p class="text-platinum/40 text-xs mt-1">{{ testimonial.service.title }}</p>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-24 bg-oxford relative overflow-hidden">
    <div class="absolute inset-0 opacity-10 bg-[linear-gradient(to_right,#e5e5e5_1px,transparent_1px),linear-gradient(to_bottom,#e5e5e5_1px,transparent_1px)] bg-[size:4rem_4rem]"></div>
    
    <div class="container mx-auto px-6 relative z-10 text-center fade-in-section">
        <h2 class="text-4xl md:text-5xl font-bold text-platinum mb-6">Ready to Start Your Project?</h2>
        <p class="text-platinum/60 text-lg max-w-2xl mx-auto mb-10">
            Let's discuss how we can help transform your ideas into reality. Get in touch today!
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a 
                href="#inquiry"
                class="px-8 py-4 bg-platinum text-oxford rounded-full font-semibold flex items-center gap-2 shadow-lg shadow-platinum/10 hover:bg-platinum/90 transition-all hover:scale-105"
            >
                Request Consultation <i data-lucide="arrow-right" class="w-5 h-5"></i>
            </a>
            <a 
                href="mailto:hello@zylocoroe.com"
                class="px-8 py-4 bg-transparent border border-platinum/30 text-platinum rounded-full font-semibold hover:bg-platinum/10 transition-all hover:scale-105"
            >
                Contact Us Directly
            </a>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-oxford border-t border-platinum/10 pt-16 pb-8 text-platinum/60 text-sm">
    <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
            <div>
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-platinum p-1.5 rounded-lg">
                        <i data-lucide="cpu" class="w-5 h-5 text-oxford"></i>
                    </div>
                    <span class="text-xl font-bold text-platinum">
                        Zylo<span class="text-platinum/60">Coroe</span>
                    </span>
                </div>
                <p class="max-w-sm leading-relaxed text-platinum/50">
                    Building the digital future with innovative software solutions.
                </p>
            </div>
            
            <div>
                <h4 class="text-platinum font-bold mb-4">Services</h4>
                <ul class="space-y-2">
                    {% for service in services|slice:":4" %}
                    <li><a href="#services" class="hover:text-platinum transition-colors">{{ service.title }}</a></li>
                    {% endfor %}
                </ul>
            </div>
            
            <div>
                <h4 class="text-platinum font-bold mb-4">Company</h4>
                <ul class="space-y-2">
                    <li><a href="#features" class="hover:text-platinum transition-colors">Features</a></li>
                    <li><a href="#testimonials" class="hover:text-platinum transition-colors">Testimonials</a></li>
                    <li><a href="#inquiry" class="hover:text-platinum transition-colors">Get Quote</a></li>
                </ul>
            </div>
            
            <div>
                <h4 class="text-platinum font-bold mb-4">Contact</h4>
                <ul class="space-y-2">
                    <li class="text-platinum/50">hello@zylocoroe.com</li>
                    <li class="text-platinum/50">+1 (555) 123-4567</li>
                </ul>
            </div>
        </div>
        
        <div class="flex flex-col md:flex-row justify-between items-center pt-8 border-t border-platinum/10">
            <p class="text-platinum/50">Â© 2024 Zylo Coroe. All rights reserved.</p>
        </div>
    </div>
</footer>
{% endblock %}

{% block extra_js %}
<script>
    // Intersection Observer for fade-in animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
            }
        });
    }, observerOptions);

    document.querySelectorAll('.fade-in-section').forEach(el => {
        observer.observe(el);
    });

    // Dynamic price display
    const serviceSelect = document.getElementById('service-select');
    const priceDisplay = document.getElementById('price-display');

    if (serviceSelect && priceDisplay) {
        serviceSelect.addEventListener('change', function() {
            const serviceId = this.value;
            if (serviceId) {
                fetch(`/api/service/${serviceId}/price/`)
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            priceDisplay.innerHTML = `<span class="text-platinum font-semibold">Price: ${data.price_range}</span>`;
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching price:', error);
                    });
            } else {
                priceDisplay.innerHTML = '';
            }
        });
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Form submission with AJAX (optional enhancement)
    const form = document.getElementById('inquiry-form');
    if (form) {
        form.addEventListener('submit', function(e) {
            // Allow normal form submission, but could enhance with AJAX here
        });
    }

    // Reinitialize icons after dynamic content loads
    lucide.createIcons();
</script>
{% endblock %}

